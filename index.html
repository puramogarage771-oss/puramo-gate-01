<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>PURAMO GATE 01</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body{
  margin:0;
  width:100%;
  height:100%;
  background:#000;
  overflow:hidden;
  font-family:Consolas, monospace;
  color:#cfd8dc;
  cursor:pointer;
}

/* ===== マトリックス雨（背面） ===== */
canvas{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* ===== ENTER（最初から表示・演出用） ===== */
#enter{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  z-index:10;
  font-size:20px;
  letter-spacing:6px;
  color:#cfd8dc;
  opacity:1;
  transition:opacity 1.2s;
  user-select:none;
  pointer-events:none;
}

/* ===== ステータス ===== */
#status{
  position:fixed;
  bottom:6%;
  width:100%;
  text-align:center;
  font-size:12px;
  letter-spacing:2px;
  opacity:0.6;
  z-index:10;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div id="enter">ENTER</div>
<div id="status">AI ADMIN CORE : STANDBY</div>

<script>
/* =========================
   マトリックス雨
========================= */
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789#$%&*+-";
const fontSize = 14;
let columns = Math.floor(canvas.width / fontSize);
let drops = Array(columns).fill(1);

function drawMatrix(){
  ctx.fillStyle = "rgba(0,0,0,0.08)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.font = fontSize + "px monospace";

  for(let i=0;i<drops.length;i++){
    const ch = chars[Math.floor(Math.random()*chars.length)];
    ctx.fillStyle = Math.random() < 0.07 ? "#cfd8dc" : "#00aa66";
    ctx.fillText(ch, i*fontSize, drops[i]*fontSize);

    if(drops[i]*fontSize > canvas.height && Math.random() > 0.975){
      drops[i] = 0;
    }
    drops[i]++;
  }
}
setInterval(drawMatrix, 50);

/* =========================
   詩的強化・正規台本
========================= */
const baseLines = [
  "アクセスを確認しました。",
  "ようこそ、プラモガレージ・データノードへ。",
  "私は、管理AI、ADMIN CORE。",
  "この空間は、静かに管理されています。",
  "あなたのアクセスを、一時的に許可します。",
  "現在、システムは初期化フェーズに移行中。",
  "データは整合性を保ち、問題は検出されていません。",
  "外部からの干渉も、確認されていません。",
  "五秒後に、プラモガレージのトップページへ転送します。"
];

let spoken = false;

function speakOnce(lines){
  if(spoken) return;
  spoken = true;

  speechSynthesis.cancel();
  let i = 0;

  function next(){
    if(i >= lines.length){
      // ★ 最後のセリフ終了後、5秒待って転送
      setTimeout(() => {
        window.location.href = "https://www.puramogarage.com/";
      }, 5000);
      return;
    }

    const msg = new SpeechSynthesisUtterance(lines[i]);
    msg.lang   = "ja-JP";
    msg.rate   = 0.88;   // 落ち着き
    msg.pitch  = 1.10;   // 女性AI感
    msg.volume = 1.0;

    const voices = speechSynthesis.getVoices();
    const female = voices.find(v =>
      v.lang === "ja-JP" &&
      (v.name.includes("Female") || v.name.includes("女性"))
    );
    if(female) msg.voice = female;

    msg.onend = () => setTimeout(next, 700);
    speechSynthesis.speak(msg);
    i++;
  }

  next();
}

/* =========================
   クリック（1回のみ）
========================= */
let activated = false;

document.body.addEventListener("click", ()=>{
  if(activated) return;
  activated = true;

  // ENTERを消す
  document.getElementById("enter").style.opacity = 0;

  // ステータス更新
  document.getElementById("status").textContent =
    "AI ADMIN CORE : INITIALIZING";

  // AI説明開始（1回）
  speakOnce(baseLines);

  // 軽く暗転
  document.body.style.transition = "filter 1.2s";
  document.body.style.filter = "brightness(0.85)";
});
</script>

</body>
</html>




